<!doctype html>
<html>
<head>
 <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Calendar Interface</title>
    <link href="https://www.cssscript.com/demo/sticky.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/color-calendar@1.0.5/dist/css/theme-basic.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/color-calendar@1.0.5/dist/css/theme-glass.css" />
</head>

<body>
  <div class="container">
    <h1>Driving Simulator Booking</h1>
    <div class="float-container">
        <div class="float-child">
            <div id="color-calendar"></div>
        </div>
        <div class="float-child">
            <h2>Available Time Slots</h2>
            <div class="events-display"></div>
        </div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/color-calendar@1.0.5/dist/bundle.min.js"></script>
<script>
    new Calendar({
        id: '#color-calendar',
        calendarSize: 'large',
        theme: 'glass',
        primaryColor: '#4F98DB',
        headerBackgroundColor: '#4F98DB',
        eventsData:[
        {
            start: '2022-04-11T06:00:00',
            end: '2022-04-11T20:30:00',
            slot: '8:00 AM - 9:00 AM',
            session: 'Session 1',
        },{
            start: '2022-04-11T06:00:00',
            end: '2022-04-11T20:30:00',
            slot: '12:00 PM - 1:00 PM',
            session: 'Session 4',
        },{
            start: '2022-04-13T06:00:00',
            end: '2022-04-13T20:30:00',
            slot: '3:00 PM - 4:00 PM',
            session: 'Session 7',
        },{
            start: '2022-04-13T06:00:00',
            end: '2022-04-13T20:30:00',
            slot: '4:00 PM - 5:00 PM',
            session: 'Session 8',
        },{
            start: '2022-04-13T06:00:00',
            end: '2022-04-13T20:30:00',
            slot: '5:00 PM - 6:00 PM',
            session: 'Session 9',
        },{
            start: '2022-04-13T06:00:00',
            end: '2022-04-13T20:30:00',
            slot: '6:00 PM - 7:00 PM',
            session: 'Session 10',
        },{
            start: '2022-04-15T06:00:00',
            end: '2022-04-15T20:30:00',
            slot: '8:00 AM - 9:00 AM',
            session: 'Session 1',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '8:00 AM - 9:00 AM',
            session: 'Session 1',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '9:00 AM - 10:00 AM',
            session: 'Session 2',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '11:00 AM - 12:00 PM',
            session: 'Session 3',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '12:00 PM - 1:00 PM',
            session: 'Session 4',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '1:00 PM - 2:00 PM',
            session: 'Session 5',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '2:00 PM - 3:00 PM',
            session: 'Session 6',
        },{
            start: '2022-04-16T06:00:00',
            end: '2022-04-16T20:30:00',
            slot: '7:00 PM - 8:00 PM',
            session: 'Session 11',
        }
        ],
        dateChanged: (currentDate, events) => {
                const events_display = document.querySelector('.events-display');
                let events_html = '';
                console.log(currentDate, events);
                events.forEach(event => {
                events_html += `
                    <div class="avail-timeslot">
                    <div class="avail-timeslot">
                        <div class="event-title">${event.slot}</div>
                        <p>${event.session}<p>
                    </div>
                    </div>
                `
                });
                if(events_html) {
                events_display.innerHTML = events_html;
                } else {
                events_display.innerHTML = '<div class="no-events-text">There are no more available slots. Days with available slots are marked in blue.</div>';
                }
            },
        })
</script>
</body>
</html>